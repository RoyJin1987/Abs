<!DOCTYPE html>  
<html>  
<head>  
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	<style type="text/css">
		body, html,#allmap {width: 100%;height: 100%;overflow: hidden;margin:0;}
		#golist {display: none;}
		@media (max-device-width: 780px){#golist{display: block !important;}}
	</style>
	<title>html app</title>
	<link rel="stylesheet" type="text/css" href="css/jquery.mobile.flatui.css" />
<!-- 	<link href="css/main.css" rel="stylesheet" type="text/css"> -->
	<link rel="stylesheet" type="text/css" href="css/widget.css" />
	<link href="css/widget.css" rel="stylesheet" type="text/css">
	<link href="css/buttons.css" rel="stylesheet" type="text/css">
	<script src="js/jquery.js"></script>
  	<script src="js/jquery.mobile-1.4.4.js"></script>
  	<script src="js/jquery.tmpl.min.js"></script> 
  	<script src="js/jquery.cookie.js"></script>  
  	<script src="js/knockout-3.2.0.js"></script> 
  	<script src="js/json2.js"></script>
  	<script type="text/javascript" src="js/common.js"></script>
  	<script type="text/javascript" src="js/myorder.js"></script>
	<script type="text/html" id="pushed-template" >
		<div class="order-info-block">
			<div class="brief">
		    	<div class="order-info-content">
		    		<div class="order-info-brief-icon">
						<a href="#" data-role="button" data-icon="carat-d" data-iconpos="notext" data-bind="attr:{id:orderId}" onclick="appMyOrder.showDetails(this,'QDDetails')"></a>
					</div>
		    		<div style="margin-top:5px">订单编号: <span data-bind="text:orderId"></span></div>
		    		<div>日期: <span data-bind="text:orderDate"></span></div>
		    		<div>发货人: <span data-bind="text:consignor"></span></div>
		    		<div>从 <span data-bind="text:send_address.city"></span> 到 <span data-bind="text:shipping_address.city"></span></div>
		    	</div>
			</div>
			<div class="details" style="display:none">
				<div class="order-info-content description">
					<div class="order-info-details-icon">
						<a href="#" data-role="button" data-icon="carat-u" data-iconpos="notext" onclick="appMyOrder.hideDetails(this)"></a>
					</div>
		    		<div class="blue-strong-head">订单编号: <span data-bind="text:orderId">BX8739473</span></div>
		    		<div>发货人姓名: <span data-bind="text:consignor"></span></div>
		    		<div>货物类型: <span data-bind="text:type"></span></div>
		    		<div>发货时间: <span data-bind="text:ship_date"></span></div>
		    		<div>到货时间: <span data-bind="text:arrival_date"></span></div>
		    		<div>货物重量: <span data-bind="text:weight"></span><span>kg</span></div>
		    		<div>发货体积: <span data-bind="text:volume"></span><span>立方</span></div>
		    		<div>发货地址: <span data-bind="text:send_address.city+send_address.address"></span></div>
		    		<div>送货地址: <span data-bind="text:shipping_address.city+shipping_address.address"></span></div>
		    	</div>
		    	<div class="ui-grid-b">
		    		<div class="ui-block-a"></div>	
		    		<div class="ui-block-b" style="text-align:center">
		    			<a href="#" data-bind="click:cancel"><img src="img/chexiao.png" alt=""></img></a>
		    		</div>
		    	</div>
		    	<hr style="background-color:#D3D3D3;border:0;height:1px;">
		    	<div class="order-info-content" style="margin-bottom:15px">
					<div class="blue-strong-head">抢单者列表</div>
					<div class="order-info-details-icon">
						<a href="#" data-role="button" data-icon="carat-u" data-iconpos="notext" onclick="appMyOrder.toggleResponselist(this)"></a>
					</div>
		    	</div>
		    	<div class="responser-list" data-bind="template: { name: 'responser-template', foreach: order.responsers, as: 'responser' }">
		    	</div>
			</div>
		</div>
	</script>
	<script type="text/html" id="cancel-template" >
		<div class="order-info-block">
			<div class="brief">
		    	<div class="order-info-content">
		    		<div class="order-info-brief-icon">
						<a href="#" data-role="button" data-icon="carat-d" data-iconpos="notext" onclick="appMyOrder.showDetails(this)"></a>
					</div>
		    		<div style="margin-top:5px">订单编号: <span data-bind="text:orderId"></span></div>
		    		<div>日期: <span data-bind="text:orderDate"></span></div>
		    		<div>发货人: <span data-bind="text:consignor"></span></div>
		    		<div>从 <span data-bind="text:send_address.city"></span> 到 <span data-bind="text:shipping_address.city"></span></div>
		    	</div>
			</div>
			<div class="details" style="display:none">
				<div class="order-info-content description">
					<div class="order-info-details-icon ">
						<a href="#" data-role="button" data-icon="carat-u" data-iconpos="notext" onclick="appMyOrder.hideDetails(this)"></a>
					</div>
		    		<div class="blue-strong-head">订单编号: <span data-bind="text:orderId">BX8739473</span></div>
		    		<div>发货人姓名: <span data-bind="text:consignor"></span></div>
		    		<div>货物类型: <span data-bind="text:type"></span></div>
		    		<div>发货时间: <span data-bind="text:ship_date"></span></div>
		    		<div>到货时间: <span data-bind="text:arrival_date"></span></div>
		    		<div>货物重量: <span data-bind="text:weight"></span><span>kg</span></div>
		    		<div>发货体积: <span data-bind="text:volume"></span><span>立方</span></div>
		    		<div>发货地址: <span data-bind="text:send_address.city+send_address.address"></span></div>
		    		<div>送货地址: <span data-bind="text:shipping_address.city+shipping_address.address"></span></div>
		    	</div>
		    	<div class="ui-grid-b">
		    		<div class="ui-block-a"></div>
		    		<div class="ui-block-b" style="text-align:center">
		    			<a href="#" data-bind="click:editOrder"><img src="img/xiugai.png" alt=""></img></a>
		    		</div>
		    	</div>
			</div>
		</div>
	</script>
	<script type="text/html" id="waybill-template" >
		<div class="order-info-block">
			<div class="brief">
		    	<div class="order-info-content">
		    		<div class="order-info-brief-icon">
						<a href="#" data-role="button" data-icon="carat-d" data-iconpos="notext" data-bind="attr:{id:orderId}" onclick="appMyOrder.showDetails(this,'SHDetails')"></a>
					</div>
		    		<div style="margin-top:5px">订单编号: <span data-bind="text:orderId"></span></div>
		    		<div>日期: <span data-bind="text:orderDate"></span></div>
		    		<div>发货人: <span data-bind="text:consignor"></span></div>
		    		<div>从 <span data-bind="text:send_address.city"></span> 到 <span data-bind="text:shipping_address.city"></span></div>
		    	</div>
			</div>
			<div class="details" style="display:none">
				<div class="order-info-content description">
					<div class="order-info-details-icon">
						<a href="#" data-role="button" data-icon="carat-u" data-iconpos="notext" onclick="appMyOrder.hideDetails(this)"></a>
					</div>
		    		<div class="blue-strong-head">订单编号: <span data-bind="text:orderId">BX8739473</span></div>
		    		<div>发货人姓名: <span data-bind="text:consignor"></span></div>
		    		<div>货物类型: <span data-bind="text:type"></span></div>
		    		<div>发货时间: <span data-bind="text:ship_date"></span></div>
		    		<div>到货时间: <span data-bind="text:arrival_date"></span></div>
		    		<div>货物重量: <span data-bind="text:weight"></span><span>kg</span></div>
		    		<div>发货体积: <span data-bind="text:volume"></span><span>立方</span></div>
		    		<div>发货地址: <span data-bind="text:send_address.city+send_address.address"></span></div>
		    		<div>送货地址: <span data-bind="text:shipping_address.city+shipping_address.address"></span></div>
		    	</div>
		    	<hr style="background-color:#D3D3D3;border:0;height:1px;">
		    	<div class="order-info-content" style="margin-bottom:15px">
					<div class="blue-strong-head">运输方信息</div>
				</div>
				<div class="responser-list" data-bind="template: { name: 'carrier-template', data:carrier }">
			</div>	
		</div>
	</script>

	<script type="text/html" id="carrier-template" >
		<div class="responser-list-item">
			<div class="description">
				<div style="float:left;">
					<img style="width:35px;height:35px" src="" alt=""></img>
				</div>
				<div style="float:left;margin-left:15px">
					<div>车牌号:  <span data-bind="text:motorcade.license_plate_number"></span></div>
					<div>驾驶员: <span data-bind="text:pilot.name"></span></div>
				</div>
				<div style="float:right;width=120px"></div>
				<div style="clear:both"></div>
			</div>
			<div class="ui-grid-b">
				<div class="ui-block-a" style="text-align:center">
					<a href="#"><img src="img/dageita_gr.png" alt=""></img></a>
				</div>
				<div class="ui-block-b" style="text-align:center">
					<a  href="#"><img src="img/pingjia.png" alt=""></img></a>	
				</div>
				<div class="ui-block-c" style="text-align:center">
					<a  href="#"><img src="img/joinmyteam.png" alt=""></img></a>		    			
				</div>
			</div>
		</div>
	</script> 
	<script type="text/html" id="responser-template" >
		<div class="responser-list-item">
			<div class="description">
				<div style="float:left;">
					<img style="width:35px;height:35px" src="" alt=""></img>
				</div>
				<div style="float:left;margin-left:15px">
					<div>车牌号: <span data-bind="text:motorcade.license_plate_number"></span></div>
					<div>驾驶员: <span data-bind="text:pilot.name"></span></div>
					<div style="color:#FF6A6A" >价格: <span style="color:#FF6A6A" data-bind="text:freight">0</span>元</div>
				</div>
				<div style="float:right;width=120px"></div>
				<div style="clear:both"></div>
			</div>
			<div class="ui-grid-b">
				<div class="ui-block-a" style="text-align:center">
					<a href="#" data-bind="click:responser.confirmToResponse"><img src="img/queren_b.png" alt=""></img></a>
				</div>
				<div class="ui-block-b" style="text-align:center">
					<a href="#" data-bind="click:responser.callHim"><img src="img/dageita_gr.png" alt=""></img></a>
				</div>
				<div class="ui-block-c" style="text-align:center">
					<a href="#"><img src="img/pingjia.png" alt=""></img></a>		    			
				</div>
			</div>
		</div>
	</script> 
	<script type="text/javascript" src="cordova.js"></script>
</head>  
<body onload="appMyOrder.onLoad()">
	<div data-role="page" data-theme="f">  
	  <div data-role="header" data-position="fixed" class="header-extra-height">
	    <a href="userCenter.html" data-role="button" data-ajax="false" data-icon="back">返回</a>
	    <h1>我的订单</h1>
	    <a href="#" data-role="button" data-icon="info" data-iconpos="notext">  </a>
	  </div>	  
	  <div data-role="content">
	  	<div data-role="tabs">
		  	<div data-role="navbar">
		      <ul>
		        <li><a href="#push" class="ui-btn-active" data-ajax="true" onclick="appMyOrder.refresh(0)" >推送</a></li>
		        <li><a href="#cancel" data-ajax="true" onclick="appMyOrder.refresh(1)">撤销</a></li>
		        <li><a href="#confirm" data-ajax="true" onclick="appMyOrder.refresh(2)">确认</a></li>
		        <li><a href="#completed" data-ajax="true" onclick="appMyOrder.refresh(3)">完成</a></li>
		      </ul>
		    </div>
		    <div id="push" class="ui-content" data-bind="template: { name: 'pushed-template', foreach: pushedOrders, as: 'order' }">
		    </div>
		    <div id="cancel" class="ui-content" data-bind="template: { name: 'cancel-template', foreach: cancelOrders, as: 'order' }">
		    </div>
		    <div id="confirm" class="ui-content" data-bind="template: { name: 'waybill-template', foreach: confirmOrders, as: 'order' }">
		    </div>
		    <div id="completed" class="ui-content" data-bind="template: { name: 'waybill-template', foreach: completeOrders, as: 'order' }">
		    </div>
		</div>
	</div>
</body>  
</html>

